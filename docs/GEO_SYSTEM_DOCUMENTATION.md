# ๐ ะะพะบัะผะตะฝัะฐัะธั ะณะตะพะปะพะบะฐัะธะพะฝะฝะพะน ัะธััะตะผั Geo Locator

## ๐ฏ ะะฑะทะพั ัะธััะตะผั

ะะพะผะฟะปะตะบัะฝะฐั ัะธััะตะผะฐ ะณะตะพะปะพะบะฐัะธะธ, ะพะฑัะตะดะธะฝัััะฐั ะผะฝะพะถะตััะฒะตะฝะฝัะต ะธััะพัะฝะธะบะธ ะดะฐะฝะฝัั ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพ ัะพัะฝะพะณะพ ะพะฟัะตะดะตะปะตะฝะธั ะผะตััะพะฟะพะปะพะถะตะฝะธั ะพะฑัะตะบัะพะฒ ะฟะพ ัะพัะพะณัะฐัะธัะผ.

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั:

1. **Yandex Maps API** - ะฟะพะธัะบ ะผะตัั, ะณะตะพะบะพะดะธัะพะฒะฐะฝะธะต, ะฟะฐะฝะพัะฐะผั
2. **2GIS API** - ะดะตัะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั ะพะฑ ะพัะณะฐะฝะธะทะฐัะธัั ะธ ะพะฑัะตะบัะฐั  
3. **ะะพัะบะพัะผะพั ัะฟััะฝะธะบะพะฒัะต ะดะฐะฝะฝัะต** - ะพัะธัะธะฐะปัะฝัะต ัะพััะธะนัะบะธะต ัะฟััะฝะธะบะพะฒัะต ัะฝะธะผะบะธ
4. **ะฏะฝะดะตะบั ะกะฟััะฝะธะบ API** - ะฒััะพะบะพะบะฐัะตััะฒะตะฝะฝัะต ัะฟััะฝะธะบะพะฒัะต ะธะทะพะฑัะฐะถะตะฝะธั
5. **ะะฐะทะฐ ะดะฐะฝะฝัั ะธะทะพะฑัะฐะถะตะฝะธะน** - ัะพะฑััะฒะตะฝะฝะฐั ะบะพะปะปะตะบัะธั ั ะณะตะพัะตะณะฐะผะธ
6. **EXIF ะฐะฝะฐะปะธะทะฐัะพั** - ะธะทะฒะปะตัะตะฝะธะต GPS ะบะพะพัะดะธะฝะฐั ะธะท ะผะตัะฐะดะฐะฝะฝัั
7. **ะะณัะตะณะฐัะพั ัะตะทัะปััะฐัะพะฒ** - ะพะฑัะตะดะธะฝะตะฝะธะต ะดะฐะฝะฝัั ะธะท ะฒัะตั ะธััะพัะฝะธะบะพะฒ

## ๐ง ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Frontend UI   โโโโโถโ   Geo API        โโโโโถโ  Geo Aggregator โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                                        โ
                       โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                       โ                                โ                                โ
                       โผ                                โผ                                โผ
            โโโโโโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโโโโโ
            โ  Yandex Maps    โ              โ     2GIS API    โ              โ   Roscosmos     โ
            โ    Service      โ              โ    Service      โ              โ   Satellite     โ
            โโโโโโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโโโโโ
                       โ                                โ                                โ
                       โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                                        โ
                                              โโโโโโโโโโโโโโโโโโโ
                                              โ  Yandex Satelliteโ
                                              โ    Service      โ
                                              โโโโโโโโโโโโโโโโโโโ
                       โ                                โ                                โ
                       โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                                        โ
                                                        โผ
                                              โโโโโโโโโโโโโโโโโโโ
                                              โ  Image Database โ
                                              โ    Service      โ
                                              โโโโโโโโโโโโโโโโโโโ
                                                        โ
                                                        โผ
                                              โโโโโโโโโโโโโโโโโโโ
                                              โ   PostgreSQL    โ
                                              โ   Database      โ
                                              โโโโโโโโโโโโโโโโโโโ
```

## ๐ API Endpoints

### ะัะฝะพะฒะฝัะต endpoints ะณะตะพะปะพะบะฐัะธะธ:

#### `POST /api/geo/locate`
ะะปะฐะฒะฝัะน endpoint ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ะผะตััะพะฟะพะปะพะถะตะฝะธั ะธะทะพะฑัะฐะถะตะฝะธั.

**ะะฐัะฐะผะตััั:**
- `image` (file) - ะธะทะพะฑัะฐะถะตะฝะธะต ะดะปั ะฐะฝะฐะปะธะทะฐ
- `location_hint` (string, optional) - ะฟะพะดัะบะฐะทะบะฐ ะพ ะผะตััะพะฟะพะปะพะถะตะฝะธะธ
- `description` (string, optional) - ะพะฟะธัะฐะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธั

**ะัะฒะตั:**
```json
{
  "success": true,
  "final_location": {
    "coordinates": {"latitude": 55.7558, "longitude": 37.6176},
    "source": "exif_gps",
    "confidence": 0.95
  },
  "confidence_score": 0.95,
  "sources_used": ["exif_gps", "image_match"],
  "recommendations": ["ะััะพะบะฐั ัะฒะตัะตะฝะฝะพััั ะฒ ะพะฟัะตะดะตะปะตะฝะธะธ ะผะตััะพะฟะพะปะพะถะตะฝะธั"]
}
```

#### `GET /api/geo/search/places`
ะะพะธัะบ ะผะตัั ัะตัะตะท Yandex Maps ะธ 2GIS.

**ะะฐัะฐะผะตััั:**
- `q` (string) - ะฟะพะธัะบะพะฒัะน ะทะฐะฟัะพั
- `lat`, `lon` (float, optional) - ะบะพะพัะดะธะฝะฐัั ัะตะฝััะฐ ะฟะพะธัะบะฐ
- `radius` (int, optional) - ัะฐะดะธัั ะฟะพะธัะบะฐ ะฒ ะผะตััะฐั
- `source` (string, optional) - ะธััะพัะฝะธะบ: 'yandex', 'dgis', 'all'

#### `GET /api/geo/geocode`
ะะตะพะบะพะดะธัะพะฒะฐะฝะธะต ะฐะดัะตัะฐ ะฒ ะบะพะพัะดะธะฝะฐัั.

**ะะฐัะฐะผะตััั:**
- `address` (string) - ะฐะดัะตั ะดะปั ะณะตะพะบะพะดะธัะพะฒะฐะฝะธั
- `source` (string, optional) - 'yandex' ะธะปะธ 'dgis'

#### `GET /api/geo/reverse-geocode`
ะะฑัะฐัะฝะพะต ะณะตะพะบะพะดะธัะพะฒะฐะฝะธะต - ะบะพะพัะดะธะฝะฐัั ะฒ ะฐะดัะตั.

**ะะฐัะฐะผะตััั:**
- `lat`, `lon` (float) - ะบะพะพัะดะธะฝะฐัั
- `source` (string, optional) - 'yandex' ะธะปะธ 'dgis'

#### `GET /api/geo/images/search`
ะะพะธัะบ ะธะทะพะฑัะฐะถะตะฝะธะน ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั.

**ะะฐัะฐะผะตััั:**
- `q` (string, optional) - ัะตะบััะพะฒัะน ะฟะพะธัะบ
- `lat`, `lon` (float, optional) - ะฟะพะธัะบ ะฟะพ ะบะพะพัะดะธะฝะฐัะฐะผ
- `radius` (int, optional) - ัะฐะดะธัั ะฟะพะธัะบะฐ
- `has_gps` (bool, optional) - ัะธะปััั ะฟะพ ะฝะฐะปะธัะธั GPS
- `city` (string, optional) - ัะธะปััั ะฟะพ ะณะพัะพะดั

#### `GET /api/geo/nearby`
ะะพะธัะบ ะฑะปะธะถะฐะนัะธั ะผะตัั ะพะฟัะตะดะตะปะตะฝะฝะพะน ะบะฐัะตะณะพัะธะธ.

**ะะฐัะฐะผะตััั:**
- `lat`, `lon` (float) - ะบะพะพัะดะธะฝะฐัั ัะตะฝััะฐ
- `category` (string, optional) - ะบะฐัะตะณะพัะธั ะผะตัั
- `radius` (int, optional) - ัะฐะดะธัั ะฟะพะธัะบะฐ

## ๐ ะะฐัััะพะนะบะฐ API ะบะปััะตะน

ะ ัะฐะนะปะต `.env` ะฝะตะพะฑัะพะดะธะผะพ ัะบะฐะทะฐัั:

```bash
# Yandex Maps API
YANDEX_API_KEY=

# 2GIS API  
DGIS_API_KEY=

# ะะพัะบะพัะผะพั ัะฟััะฝะธะบะพะฒัะต ะดะฐะฝะฝัะต
ROSCOSMOS_API_KEY=your_roscosmos_api_key

# ะฏะฝะดะตะบั ะกะฟััะฝะธะบ (ะธัะฟะพะปัะทัะตั ัะพั ะถะต ะบะปัั ััะพ ะธ Yandex Maps)
# YANDEX_API_KEY ัะถะต ัะบะฐะทะฐะฝ ะฒััะต

# ะะฐะทะฐ ะดะฐะฝะฝัั
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_DB=geo_locator
POSTGRES_HOST=localhost
```

## ๐ ะะปะณะพัะธัะผ ะพะฟัะตะดะตะปะตะฝะธั ะผะตััะพะฟะพะปะพะถะตะฝะธั

### 1. ะะทะฒะปะตัะตะฝะธะต EXIF GPS (ะฟัะธะพัะธัะตั: 1.0)
- ะะฝะฐะปะธะท ะผะตัะฐะดะฐะฝะฝัั ะธะทะพะฑัะฐะถะตะฝะธั
- ะะทะฒะปะตัะตะฝะธะต GPS ะบะพะพัะดะธะฝะฐั, ะตัะปะธ ะดะพัััะฟะฝั
- ะะฐะบัะธะผะฐะปัะฝะฐั ัะพัะฝะพััั ะฟัะธ ะฝะฐะปะธัะธะธ ะดะฐะฝะฝัั

### 2. ะะพะธัะบ ะฒ ะฑะฐะทะต ะธะทะพะฑัะฐะถะตะฝะธะน (ะฟัะธะพัะธัะตั: 0.9)
- ะกัะฐะฒะฝะตะฝะธะต ั ัััะตััะฒัััะธะผะธ ะธะทะพะฑัะฐะถะตะฝะธัะผะธ
- ะะพะธัะบ ะฟะพ ะบะพะพัะดะธะฝะฐัะฐะผ ะฒ ัะฐะดะธััะต 1ะบะผ
- ะฃัะตั ะฒะธะทัะฐะปัะฝะพะณะพ ััะพะดััะฒะฐ (ะฑัะดััะฐั ััะฝะบัะธั)

### 3. ะกะพะฟะพััะฐะฒะปะตะฝะธะต ั ัะพััะธะนัะบะธะผะธ ัะฟััะฝะธะบะพะฒัะผะธ ัะฝะธะผะบะฐะผะธ (ะฟัะธะพัะธัะตั: 0.8)
- ะะพะปััะตะฝะธะต ะดะฐะฝะฝัั ัะตัะตะท ะะพัะบะพัะผะพั ะธ ะฏะฝะดะตะบั ะกะฟััะฝะธะบ
- ะกัะฐะฒะฝะตะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธะน ัะตัะตะท CV ะฐะปะณะพัะธัะผั
- ะะพะดัะฒะตัะถะดะตะฝะธะต ะผะตััะพะฟะพะปะพะถะตะฝะธั ัะพััะธะนัะบะธะผะธ ะธััะพัะฝะธะบะฐะผะธ

### 4. ะะพะธัะบ ัะตัะตะท ะฒะฝะตัะฝะธะต API (ะฟัะธะพัะธัะตั: 0.7)
- Yandex Maps: ะฟะพะธัะบ ะฟะพ ะพะฟะธัะฐะฝะธั ะผะตััะฐ
- 2GIS: ะดะตัะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั ะพะฑ ะพะฑัะตะบัะฐั
- ะะตะพะบะพะดะธัะพะฒะฐะฝะธะต ะฟะพะดัะบะฐะทะพะบ ะฟะพะปัะทะพะฒะฐัะตะปั

### 5. ะะณัะตะณะฐัะธั ัะตะทัะปััะฐัะพะฒ
- ะะทะฒะตัะตะฝะฝะพะต ัััะตะดะฝะตะฝะธะต ะบะพะพัะดะธะฝะฐั
- ะะฐััะตั ะธัะพะณะพะฒะพะน ัะฒะตัะตะฝะฝะพััะธ
- ะะตะฝะตัะฐัะธั ัะตะบะพะผะตะฝะดะฐัะธะน

## ๐๏ธ ะะฐะทะฐ ะดะฐะฝะฝัั ะธะทะพะฑัะฐะถะตะฝะธะน

### ะะพะดะตะปั GeoImage

```sql
CREATE TABLE geo_images (
    id UUID PRIMARY KEY,
    filename VARCHAR(255) NOT NULL,
    file_path VARCHAR(500) NOT NULL,
    file_hash VARCHAR(64) UNIQUE NOT NULL,
    
    -- ะะตะพะปะพะบะฐัะธั
    latitude FLOAT,
    longitude FLOAT,
    altitude FLOAT,
    
    -- ะะตัะฐะดะฐะฝะฝัะต
    width INTEGER,
    height INTEGER,
    camera_make VARCHAR(100),
    camera_model VARCHAR(100),
    
    -- ะะดัะตัะฝะฐั ะธะฝัะพัะผะฐัะธั  
    address TEXT,
    city VARCHAR(100),
    region VARCHAR(100),
    country VARCHAR(100),
    
    -- ะกัะฐััั ะพะฑัะฐะฑะพัะบะธ
    processed BOOLEAN DEFAULT FALSE,
    has_gps BOOLEAN DEFAULT FALSE,
    geo_source VARCHAR(50), -- 'exif', 'manual', 'api_match'
    
    -- ะัะตะผะตะฝะฝัะต ะผะตัะบะธ
    date_taken TIMESTAMP,
    date_uploaded TIMESTAMP DEFAULT NOW(),
    date_modified TIMESTAMP DEFAULT NOW()
);
```

### ะัะฝะพะฒะฝัะต ะพะฟะตัะฐัะธะธ:

1. **ะะพะฑะฐะฒะปะตะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธั** - ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะธะทะฒะปะตัะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั
2. **ะะพะธัะบ ะฟะพัะพะถะธั** - ะฟะพ ะบะพะพัะดะธะฝะฐัะฐะผ ะธ ะฒะธะทัะฐะปัะฝะพะผั ััะพะดััะฒั  
3. **ะะฑะฝะพะฒะปะตะฝะธะต ะณะตะพะปะพะบะฐัะธะธ** - ัััะฝะฐั ะบะพััะตะบัะธัะพะฒะบะฐ ะบะพะพัะดะธะฝะฐั
4. **ะกะพะทะดะฐะฝะธะต ะผะธะฝะธะฐััั** - ะดะปั ะฑััััะพะณะพ ะฟัะพัะผะพััะฐ

## ๐จ ะะฝัะตะณัะฐัะธั ั ะฒะฝะตัะฝะธะผะธ ัะตัะฒะธัะฐะผะธ

### Yandex Maps API

**ะะพะทะผะพะถะฝะพััะธ:**
- ะะพะธัะบ ะพัะณะฐะฝะธะทะฐัะธะน ะธ ะดะพััะพะฟัะธะผะตัะฐัะตะปัะฝะพััะตะน
- ะะตะพะบะพะดะธัะพะฒะฐะฝะธะต ะธ ะพะฑัะฐัะฝะพะต ะณะตะพะบะพะดะธัะพะฒะฐะฝะธะต
- ะกัะฐัะธัะตัะบะธะต ะบะฐััั ั ะผะตัะบะฐะผะธ
- ะะฐะฝะพัะฐะผั ัะปะธั (Street View)

**ะะธะผะธัั:** 
- 25,000 ะทะฐะฟัะพัะพะฒ/ะดะตะฝั (ะฑะตัะฟะปะฐัะฝัะน ะฟะปะฐะฝ)
- 50 ะทะฐะฟัะพัะพะฒ/ัะตะบัะฝะดั

### 2GIS API

**ะะพะทะผะพะถะฝะพััะธ:**
- ะะตัะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั ะพะฑ ะพัะณะฐะฝะธะทะฐัะธัั
- ะะตะนัะธะฝะณะธ, ะพัะทัะฒั, ัะพัะพะณัะฐัะธะธ
- ะะฐะฑะพัะธะต ัะฐัั, ะบะพะฝัะฐะบัั
- ะะฐัะตะณะพัะธะธ ะธ ััะฑัะธะบะธ

**ะะธะผะธัั:**
- 10,000 ะทะฐะฟัะพัะพะฒ/ะดะตะฝั (ะฑะตัะฟะปะฐัะฝัะน ะฟะปะฐะฝ)
- 10 ะทะฐะฟัะพัะพะฒ/ัะตะบัะฝะดั

### ะะพัะบะพัะผะพั ัะฟััะฝะธะบะพะฒัะต ะดะฐะฝะฝัะต

**ะะพะทะผะพะถะฝะพััะธ:**
- ะัะธัะธะฐะปัะฝัะต ัะพััะธะนัะบะธะต ัะฟััะฝะธะบะพะฒัะต ัะฝะธะผะบะธ
- ะะฐะฝะฝัะต ัะฟััะฝะธะบะพะฒ ะะตัััั-ะ (1-3ะผ), ะะฐะฝะพะฟัั-ะ (2.5ะผ)
- ะััะธะฒะฝัะต ัะฝะธะผะบะธ ั ัะธะปัััะฐัะธะตะน ะฟะพ ะพะฑะปะฐัะฝะพััะธ
- ะะพะบัััะธะต ัะตััะธัะพัะธะธ ะะพััะธะธ ะธ ัะพะฟัะตะดะตะปัะฝัั ะณะพััะดะฐัััะฒ

**ะะธะผะธัั:**
- ะะฐะฒะธััั ะพั API ะบะปััะฐ ะธ ัะฐัะธัะฝะพะณะพ ะฟะปะฐะฝะฐ
- ะัะบััััะน ะดะพัััะฟ ัะตัะตะท ScanEx (ะะพัะผะพัะฝะธะผะบะธ)

### ะฏะฝะดะตะบั ะกะฟััะฝะธะบ

**ะะพะทะผะพะถะฝะพััะธ:**
- ะััะพะบะพะบะฐัะตััะฒะตะฝะฝัะต ัะฟััะฝะธะบะพะฒัะต ัะฝะธะผะบะธ
- ะะธะฑัะธะดะฝัะต ะบะฐััั (ัะฟััะฝะธะบ + ะฟะพะดะฟะธัะธ)
- ะกัะฐัะธัะตัะบะธะต ะธะทะพะฑัะฐะถะตะฝะธั ะดะพ 650x450 ะฟะธะบัะตะปะตะน
- ะะตะณัะปััะฝัะต ะพะฑะฝะพะฒะปะตะฝะธั ัะฝะธะผะบะพะฒ

**ะะธะผะธัั:**
- ะัะฟะพะปัะทัะตั ะปะธะผะธัั Yandex Maps API
- ะะฐะบัะธะผะฐะปัะฝัะน zoom: 17
- ะะฐะทะผะตั ะธะทะพะฑัะฐะถะตะฝะธั ะพะณัะฐะฝะธัะตะฝ API

## ๐ ะะตััะธะบะธ ะบะฐัะตััะฒะฐ

### ะะพะบะฐะทะฐัะตะปะธ ัะพัะฝะพััะธ:

1. **GPS Accuracy** - ัะพัะฝะพััั GPS ะบะพะพัะดะธะฝะฐั ะธะท EXIF
2. **Match Confidence** - ัะฒะตัะตะฝะฝะพััั ะฒ ัะพะฟะพััะฐะฒะปะตะฝะธะธ
3. **Source Reliability** - ะฝะฐะดะตะถะฝะพััั ะธััะพัะฝะธะบะฐ ะดะฐะฝะฝัั
4. **Aggregation Score** - ะธัะพะณะพะฒะฐั ะพัะตะฝะบะฐ ะบะฐัะตััะฒะฐ

### ะะพะฝะธัะพัะธะฝะณ:

```python
# ะะพะปััะตะฝะธะต ััะฐัะธััะธะบะธ
GET /api/geo/statistics

{
  "total_images": 1250,
  "images_with_gps": 890,
  "gps_coverage": 71.2,
  "available_services": {
    "yandex_maps": true,
    "dgis": true,
    "roscosmos_satellite": true,
    "yandex_satellite": true,
    "image_database": true
  }
}
```

## ๐ง ะะฐัััะพะนะบะฐ ะธ ัะฐะทะฒะตัััะฒะฐะฝะธะต

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
# ะกะธััะตะผะฝัะต ะฟะฐะบะตัั
sudo apt-get install postgresql postgis gdal-bin

# Python ะฟะฐะบะตัั
pip install -r requirements.txt
```

### 2. ะะฐัััะพะนะบะฐ ะฑะฐะทั ะดะฐะฝะฝัั

```bash
# ะกะพะทะดะฐะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั
createdb geo_locator

# ะะบะปััะตะฝะธะต PostGIS ัะฐััะธัะตะฝะธั
psql geo_locator -c "CREATE EXTENSION postgis;"
```

### 3. ะะฝะธัะธะฐะปะธะทะฐัะธั ัะฐะฑะปะธั

```python
from services.image_database_service import ImageDatabaseService
service = ImageDatabaseService()
# ะขะฐะฑะปะธัั ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ
```

### 4. ะะฐะฟััะบ ัะตัะฒะธัะฐ

```bash
# ะะฐะฟััะบ backend
python app.py

# ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะธััะตะผั
curl http://localhost:5000/api/geo/health
```

## ๐ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### Python ะบะปะธะตะฝั:

```python
import requests

# ะะฐะณััะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธั ะดะปั ะณะตะพะปะพะบะฐัะธะธ
with open('photo.jpg', 'rb') as f:
    response = requests.post(
        'http://localhost:5000/api/geo/locate',
        files={'image': f},
        data={
            'location_hint': 'ะะพัะบะฒะฐ, ะัะฐัะฝะฐั ะฟะปะพัะฐะดั',
            'description': 'ะคะพัะพะณัะฐัะธั ะัะตะผะปั'
        },
        headers={'Authorization': 'Bearer <token>'}
    )

result = response.json()
print(f"Coordinates: {result['final_location']['coordinates']}")
print(f"Confidence: {result['confidence_score']}")
```

### JavaScript ะบะปะธะตะฝั:

```javascript
const formData = new FormData();
formData.append('image', fileInput.files[0]);
formData.append('location_hint', 'ะกะฐะฝะบั-ะะตัะตัะฑััะณ');

fetch('/api/geo/locate', {
    method: 'POST',
    body: formData,
    headers: {
        'Authorization': `Bearer ${token}`
    }
})
.then(response => response.json())
.then(data => {
    console.log('Location:', data.final_location.coordinates);
    console.log('Sources used:', data.sources_used);
});
```

## ๐ ะัะปะฐะดะบะฐ ะธ ะผะพะฝะธัะพัะธะฝะณ

### ะะพะณะธัะพะฒะฐะฝะธะต:

ะัะต ัะตัะฒะธัั ะธัะฟะพะปัะทััั ััะฐะฝะดะฐััะฝะพะต Python ะปะพะณะธัะพะฒะฐะฝะธะต:

```python
import logging
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)
```

### ะัะฝะพะฒะฝัะต ะปะพะณ-ัะพะพะฑัะตะฝะธั:

- `GPS coordinates found in EXIF data` - ะฝะฐะนะดะตะฝั GPS ะฒ EXIF
- `Found N similar images in database` - ะฝะฐะนะดะตะฝั ะฟะพัะพะถะธะต ะธะทะพะฑัะฐะถะตะฝะธั
- `Satellite match score: X` - ะพัะตะฝะบะฐ ัะพะฟะพััะฐะฒะปะตะฝะธั ัะพ ัะฟััะฝะธะบะพะผ
- `Geolocation completed. Success: X, Confidence: Y` - ะธัะพะณ ะณะตะพะปะพะบะฐัะธะธ

### ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั:

```bash
# ะัะพะฒะตัะบะฐ ะฒัะตั ัะตัะฒะธัะพะฒ
curl http://localhost:5000/api/geo/health

# ะกัะฐัะธััะธะบะฐ ะฑะฐะทั ะธะทะพะฑัะฐะถะตะฝะธะน  
curl http://localhost:5000/api/geo/statistics
```

## ๐ฏ ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะะปั ะผะฐะบัะธะผะฐะปัะฝะพะน ัะพัะฝะพััะธ:

1. **ะัะฟะพะปัะทัะนัะต ะธะทะพะฑัะฐะถะตะฝะธั ั GPS** - ะฒะบะปััะธัะต ะณะตะพัะตะณะธ ะฒ ะฝะฐัััะพะนะบะฐั ะบะฐะผะตัั
2. **ะะพะฑะฐะฒะปัะนัะต ะพะฟะธัะฐะฝะธั** - ัะบะฐะทัะฒะฐะนัะต ะฟัะธะผะตัะฝะพะต ะผะตััะพะฟะพะปะพะถะตะฝะธะต
3. **ะะพะฟะพะปะฝัะนัะต ะฑะฐะทั** - ะทะฐะณััะถะฐะนัะต ะฑะพะปััะต ะธะทะพะฑัะฐะถะตะฝะธะน ั ะธะทะฒะตััะฝัะผะธ ะบะพะพัะดะธะฝะฐัะฐะผะธ
4. **ะัะพะฒะตััะนัะต ัะตะทัะปััะฐัั** - ะบะพััะตะบัะธััะนัะต ะฝะตัะพัะฝัะต ะพะฟัะตะดะตะปะตะฝะธั

### ะะณัะฐะฝะธัะตะฝะธั ัะธััะตะผั:

1. **ะะฐัะตััะฒะพ EXIF** - ะฝะต ะฒัะต ะบะฐะผะตัั ะทะฐะฟะธััะฒะฐัั ัะพัะฝัะต GPS ะบะพะพัะดะธะฝะฐัั
2. **API ะปะธะผะธัั** - ะพะณัะฐะฝะธัะตะฝะธั ะฒะฝะตัะฝะธั ัะตัะฒะธัะพะฒ ะฝะฐ ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ
3. **ะะพะบัััะธะต ัะฟััะฝะธะบะพะฒ** - ัะพััะธะนัะบะธะต ัะตัะฒะธัั ะปัััะต ะฟะพะบััะฒะฐัั ัะตััะธัะพัะธั ะะค
4. **ะะธะทัะฐะปัะฝะพะต ััะพะดััะฒะพ** - ะฐะปะณะพัะธัะผั CV ััะตะฑััั ะดะฐะปัะฝะตะนัะตะณะพ ัะฐะทะฒะธัะธั

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

- [Yandex Maps API Documentation](https://yandex.ru/dev/maps/)
- [2GIS API Documentation](https://docs.2gis.com/)
- [ะะตะพะฟะพััะฐะป ะะพัะบะพัะผะพัะฐ](https://gptl.ru/)
- [ScanEx ะะพัะผะพัะฝะธะผะบะธ](https://maps.kosmosnimki.ru/)
- [PostGIS Documentation](https://postgis.net/documentation/)
- [OpenCV Python Documentation](https://docs.opencv.org/)
