# Core Flask dependencies
flask==3.0.3
flask-sqlalchemy==3.1.1
flask-cors==4.0.1
flask-migrate==4.0.7
flask-login==0.6.3
werkzeug==3.0.3

# Database
sqlalchemy==2.0.32
psycopg2-binary==2.9.9
geoalchemy2==0.15.2
pgvector==0.3.0

# Task queue and caching
celery==5.4.0
redis==5.0.8

# HTTP requests and utilities
requests==2.32.3
tenacity==9.0.0
python-dotenv==1.0.1
aiohttp==3.10.11

# Computer Vision and ML
opencv-python==4.10.0.84
opencv-python-headless==4.10.0.84
torch==2.4.0
torchvision==0.19.0
transformers==4.44.0
ultralytics==8.0.196
pillow==10.4.0
numpy>=1.26.0,<2.0  # ВАЖНО: faiss-cpu требует numpy<2.0
scipy==1.14.1
scikit-image==0.24.0
matplotlib==3.9.2

# CLIP and Vector Search (Image Similarity)
open-clip-torch==2.24.0  # OpenCLIP for image embeddings
faiss-cpu==1.8.0  # Facebook AI Similarity Search (требует numpy<2.0)
sentence-transformers==2.7.0  # For text embeddings
scikit-learn>=1.0.0  # Required by sentence-transformers
timm>=0.9.0  # Required by open-clip-torch

# Semantic Segmentation (Building Detection)
segmentation-models-pytorch==0.3.3  # Pre-trained segmentation models
albumentations==1.4.0  # Image augmentation for segmentation

# OCR and text processing
pytesseract==0.3.10
easyocr==1.7.1

# Geospatial and mapping
geopy==2.4.1
exifread==3.0.0
folium==0.17.0
shapely==2.0.6
fiona==1.10.1
rasterio==1.4.1
pyproj==3.7.0

# External API integrations
google-generativeai==0.7.2
google-cloud-vision==3.7.2
sentinelhub==3.10.3
requests-oauthlib==2.0.0
oauthlib==3.2.2

# Media processing
stitching==0.5.1
ffmpeg-python==0.2.0

# Email and notifications
jinja2==3.1.4
email-validator==2.1.1

# Development and testing
pytest==8.3.2
pytest-flask==1.3.0
pytest-cov==5.0.0

# Image processing and metadata
# PIL==1.1.7  # Replaced by Pillow
exifread==3.0.0
# rawpy==0.22.0  # Conflicts with numpy version
imageio==2.35.1

# Async and concurrency
# asyncio==3.4.3  # Built-in module
aiofiles==24.1.0

# Utilities
python-magic==0.4.27
click==8.1.7
tqdm==4.66.5
pandas==2.2.3
